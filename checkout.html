<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>OmasKnitAndNibble - Schicke Stiche & Süße Stücke – Direkt von Oma und Opa</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="" name="keywords">
    <meta content="" name="description">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&family=Raleway:wght@600;800&display=swap" rel="stylesheet">

    <!-- Icon Font Stylesheet -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href="lib/lightbox/css/lightbox.min.css" rel="stylesheet">
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">


    <!-- Customized Bootstrap Stylesheet -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Template Stylesheet -->
    <link href="css/style.css" rel="stylesheet">

    <script src="js/bootstrap.bundle.min.js"></script>
    <script src="js/handlebars.min-v4.7.8.js"></script>
    <script src="js/daten.js"></script>
    <script src="js/vanilla.js"></script>
</head>

<body onload = "init()">

<!--Navigation bar-->
<div>
    <script type="text/x-handlebars-template">
        {{>partials/bar}}
    </script>
</div>
<!--end of Navigation bar-->


<!-- Checkout Page Start -->
<div class="container-fluid py-5">
    <div class="container py-5">
        <h1 class="mb-4">Billing details</h1>
        <form class="needs-validation">
            <div class="row g-5">
                <div class="col-md-12 col-lg-6 col-xl-7">
                    <div class="row">
                        <div class="col-md-12 col-lg-6">
                            <div class="form-floating w-100 mb-3">
                                <input type="text" class="form-control" id="first-name" placeholder="Max" required>
                                <label for="first-name">First Name<sup>*</sup></label>
                                <div class="invalid-feedback">Bitte geben Sie Ihren Vornamen ein.</div>
                            </div>
                        </div>
                        <div class="col-md-12 col-lg-6">
                            <div class="form-floating w-100 mb-3">
                                <input type="text" class="form-control" id="last-name" placeholder="Mustermann" required>
                                <label for="last-name">Last Name<sup>*</sup></label>
                                <div class="invalid-feedback">Bitte geben Sie Ihren Nachnamen ein.</div>
                            </div>
                        </div>
                    </div>
                    <div class="form-floating w-100 mb-3">
                        <input type="text" class="form-control" id="address" placeholder="House number, Street name" required>
                        <label for="address">Address<sup>*</sup></label>
                        <div class="invalid-feedback">Bitte geben Sie Ihre Adresse ein.</div>
                    </div>
                    <div class="row">
                        <div class="col-md-12 col-lg-3">
                            <div class="form-floating w-100 mb-3">
                                <input type="text" class="form-control" id="postal-code" placeholder="68167" required>
                                <label for="postal-code">Postal Code<sup>*</sup></label>
                                <div class="invalid-feedback">Bitte geben Sie Ihre Postleitzahl ein.</div>
                            </div>
                        </div>
                        <div class="col-md-12 col-lg-9">
                            <div class="form-floating w-100 mb-3">
                                <input type="text" class="form-control" id="town" placeholder="Mannheim" required>
                                <label for="town">Town/City<sup>*</sup></label>
                                <div class="invalid-feedback">Bitte geben Sie den Ort ein.</div>
                            </div>
                        </div>
                    </div>
                    <div class="form-floating w-100 mb-3">
                        <input type="text" class="form-control" id="mobile" placeholder="mobile phone number" required>
                        <label for="mobile">Mobile<sup>*</sup></label>
                        <div class="invalid-feedback">Bitte geben Sie Ihre Telefonnummer ein.</div>
                    </div>
                    <div class="form-floating w-100 mb-3">
                        <input type="text" class="form-control" id="email" placeholder="Mustermann@muster.com" required>
                        <label for="email">Email Address<sup>*</sup></label>
                        <div class="invalid-feedback">Bitte geben Sie Ihre Email-Adresse ein.</div>
                    </div>
                    <div class="form-check my-3">
                        <input class="form-check-input" type="checkbox" id="Address-1" name="Address" value="Address" onclick="second_address(this.checked)">
                        <label class="form-check-label" for="Address-1">Ship to a different address?</label>
                    </div>

                    <div class="form-floating w-100 mb-3">
                        <input type="text" class="form-control" placeholder="House number, Street name" id="shipping_address" data-diff-shipping-address hidden>
                        <label for="shipping_address" data-diff-shipping-address hidden>Address<sup>*</sup> </label>
                        <div class="invalid-feedback">Bitte geben Sie Ihre Lieferadresse ein.</div>
                    </div>
                    <div class="row">
                        <div class="col-md-12 col-lg-3">
                            <div class="form-floating w-100 mb-3">
                                <input type="text" class="form-control" id="shipping_zip_code" placeholder="68167" data-diff-shipping-address hidden>
                                <label for="shipping_zip_code" data-diff-shipping-address hidden="">Postal code<sup>*</sup></label>
                                <div class="invalid-feedback">Bitte geben Sie die Postleitzahl der Lieferadresse ein.</div>
                            </div>
                        </div>
                        <div class="col-md-12 col-lg-9">
                            <div class="form-floating w-100 mb-3">
                                <input type="text" class="form-control" id="town_shipping" placeholder="Mannheim" data-diff-shipping-address hidden>
                                <label for="town_shipping" data-diff-shipping-address hidden="">Town/City<sup>*</sup></label>
                                <div class="invalid-feedback">Bitte geben Sie den Ort ein.</div>
                            </div>
                        </div>
                    </div>

                    <div class="form-item">
                        <textarea name="text" class="form-control" spellcheck="false" cols="30" rows="11" placeholder="Order Notes (Optional)"></textarea>
                    </div>
                </div>
                <div class="col-md-12 col-lg-6 col-xl-5">
                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                            <tr>
                                <th scope="col">Products</th>
                                <th scope="col">Name</th>
                                <th scope="col">Price</th>
                                <th scope="col">Quantity</th>
                                <th scope="col">Total</th>
                            </tr>
                            </thead>
                            <tbody>
                                    <script type="text/x-handlebars-template">
                                        {{>partials/checkout_item}}
                                   </script>
                            </tbody>
                        </table>
                    </div>
                    <div class="row g-4 text-center align-items-center justify-content-center border-bottom py-3">
                        <div class="col-12">
                            <div class="form-check text-start my-3">
                                <input type="checkbox" class="form-check-input bg-primary border-0" id="Transfer-1" name="Transfer" value="Transfer">
                                <label class="form-check-label" for="Transfer-1">Direct Bank Transfer</label>
                            </div>
                            <p class="text-start text-dark">Make your payment directly into our bank account. Please use your Order ID as the payment reference. Your order will not be shipped until the funds have cleared in our account.</p>
                        </div>
                    </div>
                    <div class="row g-4 text-center align-items-center justify-content-center border-bottom py-3">
                        <div class="col-12">
                            <div class="form-check text-start my-3">
                                <input type="checkbox" class="form-check-input bg-primary border-0" id="Payments-1" name="Payments" value="Payments">
                                <label class="form-check-label" for="Payments-1">Check Payments</label>
                            </div>
                        </div>
                    </div>
                    <div class="row g-4 text-center align-items-center justify-content-center border-bottom py-3">
                        <div class="col-12">
                            <div class="form-check text-start my-3">
                                <input type="checkbox" class="form-check-input bg-primary border-0" id="Delivery-1" name="Delivery" value="Delivery">
                                <label class="form-check-label" for="Delivery-1">Cash On Delivery</label>
                            </div>
                        </div>
                    </div>
                    <div class="row g-4 text-center align-items-center justify-content-center border-bottom py-3">
                        <div class="col-12">
                            <div class="form-check text-start my-3">
                                <input type="checkbox" class="form-check-input bg-primary border-0" id="Paypal-1" name="Paypal" value="Paypal">
                                <label class="form-check-label" for="Paypal-1">Paypal</label>
                            </div>
                        </div>
                    </div>
                    <div class="row g-4 text-center align-items-center justify-content-center pt-4">
                        <button type="button" class="btn border-secondary py-3 px-4 text-uppercase w-100 text-primary" id="placeOrder" onclick="order()">Place Order</button>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>
<!-- Checkout Page End -->


<!--Footer-->
<div>
    <script type="text/x-handlebars-template">
        {{>partials/footer}}
    </script>
</div>
<!--end of Footer-->

<script>
    function init() {
        let item_names = JSON.parse(localStorage.getItem("Warenkorb"))
        let items = []

        for (let i in item_names) {
            items.push(getItem(item_names[i]))
        }

        render(items)
    }

    function getItem(item_name) {
        return SHOP_ITEM.find(item => item.name === item_name)
    }

    function second_address(checked) {
        var hiddenFormItems = document.querySelectorAll('[data-diff-shipping-address]');

        if (checked) {
            hiddenFormItems.forEach(function (item) {
                item.removeAttribute('hidden');
                item.setAttribute('required', '');
            })
        } else {
            hiddenFormItems.forEach(function (item) {
                item.setAttribute('hidden', '');
                item.removeAttribute('required');
            })
        }
    }

    function order() {

        const form = document.querySelector('.needs-validation');

        if (form.checkValidity()) {
            placeOrder();
        }
        form.classList.add('was-validated');
    }

    function placeOrder() {
            console.log("only for testing purposes right now")
        }

</script>

<!-- JavaScript Libraries -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="lib/easing/easing.min.js"></script>
<script src="lib/waypoints/waypoints.min.js"></script>
<script src="lib/lightbox/js/lightbox.min.js"></script>
<script src="lib/owlcarousel/owl.carousel.min.js"></script>

<!-- Template Javascript -->
<script src="js/main.js"></script>
</body>

</html>